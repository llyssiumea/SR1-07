/*
 * Задание #3
 * Основная программа для задачи о K-ичных числах
 */

#include "k_numbers.h"
#include <iostream>
#include <Windows.h>

using namespace std;

int main() 
{
    SetConsoleCP(1251);
    SetConsoleOutputCP(1251);

    // Вывод описания задачи
    cout << "Программа подсчитывает количество K-ичных чисел из N разрядов,\n"
         << "в записи которых нет двух и более подряд идущих нулей.\n"
         << "Ограничения: 2 ≤ K ≤ 10, 1 < N < 20, K + N < 26\n"
         << "-------------------------------------------------\n\n";

    // Ввод данных
    int n, k;
    cout << "Введите число N (количество разрядов): ";
    cin >> n;
    cout << "Введите число K (основание системы счисления): ";
    cin >> k;

    // Проверка корректности ввода
    if (k < 2 || k > 10 || n <= 1 || n >= 20 || k + n >= 26) 
    {
        cerr << "Ошибка: некорректные входные данные!\n";
        cerr << "Убедитесь, что выполняются условия:\n"
             << "2 ≤ K ≤ 10, 1 < N < 20, K + N < 26\n";
        return 1;
    }

    // Вычисление результата
    double result = countNumbersWithoutDoubleZeros(n, k);

    // Вывод результата
    cout.precision(15);
    cout << "\nРезультат: " << result << endl;

    return 0;
}